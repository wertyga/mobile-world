{"version":3,"file":"static/webpack/static/development/pages/admin/articles.js.3863dec2ac1641015c31.hot-update.js","sources":["webpack:///./pages/admin/articles.js"],"sourcesContent":["import Link from 'next/link'\nimport { AdminLayout } from 'shared/layouts'\nimport { Loader } from 'shared/components/Common'\nimport _JSXStyle from 'styled-jsx/style'\n\nimport Folder from 'react-icons/lib/fa/folder';\nimport FolderOpened from 'react-icons/lib/fa/folder-open';\n\nimport { getMonthBefore } from 'shared/utils/dateHelpers';\nimport { sortedByDate } from 'shared/utils/sortHelpers';\n\nimport styles from 'shared/components/Admin/Article/style/articles-style';\n\nconst mapState = ({ articleStore: { getArticleList, articles, articleState } }) => ({\n  getArticleList,\n  articles,\n  articleState,\n})\n\n@inject(mapState)\nexport default class AdminArticles extends React.Component {\n  constructor(props) {\n    super(props);\n\n    props.getArticleList();\n\n    this.state = {\n      opens: [],\n    };\n  }\n\n  getSortedArticles = () => {\n    const { articles } = this.props;\n\n    return sortedByDate(articles, true);\n  }\n\n  handleOpen = key => () => {\n    const { opens } = this.state;\n\n    this.setState({\n      opens: opens.includes(key) ?\n        opens.filter(item => item !== key) :\n        [...opens, key],\n    });\n  }\n\n  render() {\n    const { opens } = this.state;\n    const { articleState } = this.props;\n    const articles = this.getSortedArticles();\n\n    return (\n      <AdminLayout className=\"container\">\n        <div className=\"admin-articles\">\n          <h1>ARTICLES</h1>\n\n          {articleState === 'pending' && <Loader />}\n\n          <div className=\"list\">\n            {Object.entries(articles).map(([key, value]) => {\n              const isOpen = opens.includes(key);\n              return (\n                <div className=\"item-wrapper\" key={key}>\n                <span className=\"article-date\" onClick={this.handleOpen(key)}>\n                  {isOpen ? <FolderOpened /> : <Folder />}\n                  <span>{key}</span>\n                </span>\n                  <div className=\"item-wrapper__list\">\n                    {isOpen &&\n                      value.map(({ _id, name, createdAt, category }) => {\n                        return (\n                          <Link href={`/admin/article-view?id=${_id}`} key={_id}>\n                            <a className=\"article-link\">\n                              <span>{category.toUpperCase()}</span>\n                              <span>{name}</span>\n                              <span>{createdAt}</span>\n                            </a>\n                          </Link>\n                        )\n                      })\n                    }\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n\n          <style jsx>{styles}</style>\n        </div>\n      </AdminLayout>\n    );\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AACA;AAMA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAUA;AAGA;AACA;AACA;AAfA;AAgBA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAFA;AAKA;AARA;AACA;AAdA;AAEA;AACA;AADA;AALA;AAQA;AACA;;;AAiBA;AAAA;AACA;AADA;AAAA;AAGA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAKA;AA/BA;AAAA;AAAA;AAsCA;;;;AAxEA;;;;;;A","sourceRoot":""}